================================================================================
                        /mysb コマンド使用方法ガイド
================================================================================

このドキュメントでは、Server Scoreboard Modの/mysbコマンドの使用方法を説明します。

================================================================================
1. 基本コマンド
================================================================================

/mysb
  説明: 統計選択GUIを開きます（統計ページがデフォルト）
  権限: 全プレイヤー使用可能（権限レベル0）
  使用例: /mysb
  機能:
    - 統計ページ: 有効化されているトータル統計から選択
    - スコアボードページ: 通常のスコアボードオブジェクトから選択
    - ページ切り替え: 左上のアイコンでページを切り替え可能

/mysb reload
  説明: スコアボードデータと設定を再読み込みします
  権限: OP権限レベル4（最高権限）が必要
  使用例: /mysb reload
  注意: サーバーの設定を再読み込みするため、最高権限が必要です

================================================================================
2. 統計管理コマンド（/mysb total）
================================================================================

権限: 全プレイヤー使用可能（権限レベル0）

/mysb total
  説明: トータル統計コマンドのヘルプを表示します
  使用例: /mysb total

/mysb total add <id> <displayName> <statType>
  説明: 新しいトータル統計を追加します
  引数:
    - id: 統計の一意識別子（英数字、スペース不可）
    - displayName: 表示名（スペースを含む場合は""で囲む）
    - statType: 統計タイプ（下記参照）
  使用例: /mysb total add my_damage "総ダメージ量" damage_dealt

/mysb total list
  説明: 登録されているトータル統計の一覧を表示します
  使用例: /mysb total list

/mysb total update
  説明: 全てのトータル統計を手動で更新します
  使用例: /mysb total update

/mysb total remove <id>
  説明: カスタムトータル統計を削除します（デフォルト統計は削除不可）
  使用例: /mysb total remove my_damage

利用可能な統計タイプ（statType）:
  - mined: ブロック採掘数
  - placed: ブロック設置数
  - killed: モブ討伐数
  - deaths: 死亡回数
  - damage_dealt: 与えたダメージ
  - damage_taken: 受けたダメージ
  - play_time: プレイ時間
  - walk_one_cm: 歩いた距離
  - sprint_one_cm: 走った距離
  - swim_one_cm: 泳いだ距離
  - fall_one_cm: 落下距離
  - climb_one_cm: 登った距離
  - fly_one_cm: 飛んだ距離
  - jump: ジャンプ回数
  - fish_caught: 釣った魚の数
  - animals_bred: 繁殖させた動物数
  - その他多数（コマンド実行時にサジェストされます）

================================================================================
3. 管理者コマンド（/mysb admin）
================================================================================

権限: 全プレイヤー使用可能（権限レベル0）

【管理者GUI】

/mysb admin gui
  説明: サーバー全体の統計・スコアボード管理GUIを開きます
  使用例: /mysb admin gui
  機能:
    - 統計管理ページ: 各統計をクリックして有効/無効を切り替え
    - スコアボード管理ページ: スコアボードオブジェクトの確認（将来の拡張用）
    - ページ切り替え: 左上のアイコンでページを切り替え可能

【プレイヤー除外管理】

/mysb admin exclude <player>
  説明: 指定したプレイヤーを統計から除外します
  使用例: /mysb admin exclude Steve

/mysb admin exclude list
  説明: 統計から除外されているプレイヤーの一覧を表示します
  使用例: /mysb admin exclude list

/mysb admin include <player>
  説明: 除外されていたプレイヤーを統計に再度含めます
  使用例: /mysb admin include Steve

【統計有効/無効管理】

/mysb admin stats enable <stat>
  説明: 指定した統計を有効化します
  使用例: /mysb admin stats enable mined

/mysb admin stats disable <stat>
  説明: 指定した統計を無効化します
  使用例: /mysb admin stats disable deaths

/mysb admin stats list
  説明: 全ての統計とその有効/無効状態を表示します
  使用例: /mysb admin stats list

================================================================================
4. デバッグコマンド（/mysb debug）
================================================================================

権限: OP権限レベル2が必要

/mysb debug
  説明: デバッグモードを切り替えます（ON/OFF）
  使用例: /mysb debug
  
/mysb debug on
  説明: デバッグモードを有効にします
  使用例: /mysb debug on
  効果: 
    - ブロック設置/破壊時の詳細ログを表示
    - スコア変更時の詳細情報を表示
    - デバッグメッセージはOP権限者にのみ送信（設定による）
  
/mysb debug off
  説明: デバッグモードを無効にします
  使用例: /mysb debug off

デバッグモードで表示される情報:
  - ブロック破壊: プレイヤー名、ブロック種類、座標
  - ブロック使用: プレイヤー名、アイテム名、座標
  - スコア更新: 統計名、プレイヤー名、旧値→新値、変化量

================================================================================
6. 永続化される設定
================================================================================

以下の設定はサーバー再起動後も保持されます：

1. プレイヤーのスコアボード選択
   - 各プレイヤーが選択したスコアボード
   - 保存場所: config/mysb/player_scoreboards.dat

2. 統計の有効/無効設定
   - 有効化/無効化した統計
   - プレイヤーの除外リスト
   - 保存場所: config/mysb/total_stats_config.dat

3. カスタムスコアボード
   - プレイヤーが作成したカスタムスコアボード
   - カスタムスコアの値
   - 保存場所: config/mysb/player_scoreboards.dat

4. スコアボード変換データ
   - オブジェクティブの表示名変換
   - スコア値のオフセット
   - 保存場所: config/mysb/player_scoreboards.dat

5. 自動変換設定
   - 自動変換の有効/無効
   - 変換ルール
   - 保存場所: config/mysb/auto_transform.json

================================================================================
7. 使用上の注意
================================================================================

- コマンドにはレート制限があり、連続実行はできません
- GUIは一度に多くのプレイヤーが開くとサーバーに負荷がかかる可能性があります
- カスタム統計のIDは一度設定すると変更できません（削除して再作成が必要）
- 統計の更新は定期的に自動実行されますが、手動更新も可能です

================================================================================
8. トラブルシューティング
================================================================================

Q: 統計が更新されない
A: /mysb total update コマンドで手動更新してください

Q: GUIが開かない
A: プレイヤーとしてログインしているか確認してください（コンソールからは実行不可）

Q: 設定が保存されない
A: config/mysbフォルダの書き込み権限を確認してください

Q: 統計から特定のプレイヤーを除外したい
A: /mysb admin exclude <player> コマンドを使用してください
